"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[547],{2547:(t,s,a)=>{a.r(s),a.d(s,{default:()=>n});function e(t,s){return function(t){if(Array.isArray(t))return t}(t)||function(t,s){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var e,i,l=[],n=!0,r=!1;try{for(a=a.call(t);!(n=(e=a.next()).done)&&(l.push(e.value),!s||l.length!==s);n=!0);}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return l}(t,s)||function(t,s){if(!t)return;if("string"==typeof t)return i(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(t,s)}(t,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,s){(null==s||s>t.length)&&(s=t.length);for(var a=0,e=new Array(s);a<s;a++)e[a]=t[a];return e}const l={data:function(){return{loading:!1,reload:!0,msg:{errors:window.nerrors,success:window.nsuccess,warnings:window.nwarnings,infos:window.ninfos,footercontent:window.nfooterContent},user:window.nuelinkUser,statics:{},collections:[],pagination:{}}},created:function(){document.title="Nuelink - Channels Admin",this.getCollections(!1)},computed:{},methods:{paginationUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t){var s=new URL(t),a=s&&s.searchParams.get("page")?s.searchParams.get("page"):1,e=new URL(window.location.href);return e.searchParams.set("page",a),e.href}},fetchQueues:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s="";return t&&t.length>0?t.forEach((function(t){s+='<span class="badge bg-primary">'+t.date+"</span> "})):s="-",s},getCollections:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=this,n="/api/admin/collections";if(i&&i.length>0)n="/api/admin/search?search="+i;else if(t&&s||a)n+="?".concat(s?"limit="+s:"").concat(t?"&all=1":"").concat(a?"&plans="+a:"");else{var r=new URL(window.location.href),o=r&&r.searchParams.get("page")?r.searchParams.get("page"):1;n="".concat(n,"?page=").concat(o,"&").concat(s?"limit="+s:"")}l.reload=!1,l.loading=!0,axios.get(n).then((function(t){l.collections=t.data.data;for(var s=0,a=Object.entries(t.data.meta);s<a.length;s++){var i=e(a[s],2),n=i[0],r=i[1];l.pagination[n]=r}l.loading=!0,$('[data-toggle="tooltip"]').tooltip(),l.reload=!0,setTimeout((function(){l.loading=!1,initList()}),300)})).catch((function(t){l.reload=!0,l.loading=!1,l.getCollections(!1)}))},dtFormat:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window.dtFormat(t,s,a)}},mounted:function(){}};const n=(0,a(1900).Z)(l,(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container-fluid",class:{loading:t.loading}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12"},[t._m(0),t._v(" "),t.msg.success?a("div",{staticClass:"alert alert-success mb-4"},[t._v(" "+t._s(t.msg.success)+" ")]):t._e(),t._v(" "),t._l(t.msg.warnings,(function(s){return a("div",{key:s,staticClass:"alert alert-warning mb-4",domProps:{innerHTML:t._s(s)}})})),t._v(" "),t._l(t.msg.errors,(function(s){return a("div",{key:s,staticClass:"alert alert-danger mb-4",attrs:{role:"alert"}},[t._v(" "+t._s(s)+" ")])})),t._v(" "),t._l(t.msg.infos,(function(s){return a("div",{key:s,domProps:{innerHTML:t._s(s)}})})),t._v(" "),t.reload?a("div",{staticClass:"card",attrs:{"data-list":'{"valueNames": ["item-name", "item-userid", "item-templates", "item-publishes", "item-posts", "item-updated",  "item-queues"], "page": 50, "pagination": {"paginationClass": "list-pagination"} }',id:"collections"}},[t._m(1),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-sm table-hover table-nowrap card-table table-valign-middle"},[t.collections&&t.collections.length>0?a("thead",[t._m(2)]):t._e(),t._v(" "),a("tbody",{staticClass:"list fs-base"},[!t.collections||t.collections&&t.collections.length<1?a("tr",[a("td",{staticClass:"fs-2 text-center text-muted"},[t._v("All collections will appear here.")])]):t._e(),t._v(" "),t._l(t.collections,(function(s,e){return a("tr",{key:e},[t._m(3,!0),t._v(" "),a("td",{staticClass:"item-userid"},[t._v(t._s(s.user_id))]),t._v(" "),a("td",{staticClass:"item-name"},[a("a",{staticClass:"avatar avatar-xs d-inline-block me-1"},[s.thumbnail&&"/img/image-not-found.jpg"!=s.thumbnail?a("img",{staticClass:"avatar-img rounded-circle",attrs:{src:s.thumbnail,alt:s.name,onerror:"this.onerror=null;this.src='/img/image-not-found.jpg';"},on:{error:function(t){s.thumbnail=null}}}):a("svg",{style:"color:"+(s.color?s.color:"#ddd")+";",attrs:{viewBox:"0 0 100 100",width:"26",height:"26",fill:"currentColor"}},[a("circle",{attrs:{cx:"50",cy:"50",r:"50"}})])]),t._v(" "),a("a",{staticClass:"d-inline-block text-black",attrs:{href:s.remoteLink,target:"_blank"}},[t._v(" "+t._s(s.name))])]),t._v(" "),a("td",[a("span",{staticStyle:{"max-width":"240px",display:"inline-block","white-space":"normal"},domProps:{innerHTML:t._s(t.fetchQueues(s.queues))}})]),t._v(" "),a("td",{staticClass:"item-templates"},[t._v("\n                                "+t._s(s.templatesCount?s.templatesCount:"-")+"\n                              ")]),t._v(" "),a("td",{staticClass:"item-posts"},[t._v("\n                                "+t._s(s.postsCount?s.postsCount:"-")+"\n                              ")]),t._v(" "),a("td",{staticClass:"item-publishes"},[t._v("\n                                "+t._s(s.publishes)+"\n                              ")]),t._v(" "),a("td",[a("time",{staticClass:"item-updated d-block mb-1",attrs:{datetime:s.updatedAt}},[t._v(t._s(t.dtFormat(s.updatedAt,"d")))]),t._v(" "),a("span",{staticClass:"text-muted small"},[t._v(t._s(t.dtFormat(s.updatedAt,"txs")))])]),t._v(" "),t._m(4,!0)])}))],2)])]),t._v(" "),t.collections&&t.collections.length>0?a("div",{staticClass:"card-footer d-flex justify-content-center"},[t.pagination&&t.collections&&t.pagination.total>50?a("nav",{attrs:{"aria-label":"navigation"}},[a("ul",{staticClass:"pagination"},t._l(t.pagination.links,(function(s,e){return a("li",{key:e,staticClass:"page-item",class:s.active?"active":""},[a("a",{staticClass:"page-link",class:!s.url||s.active?"disabled opacity-50":"",attrs:{href:t.paginationUrl(s.url)},domProps:{innerHTML:t._s(s.page||s.label||e+1)}})])})),0)]):t._e(),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"list-pagination pagination pagination-tabs card-pagination"}),t._v(" "),t._m(5)]):t._e()]):t._e()],2)])])}),[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-body"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("h6",{staticClass:"header-pretitle"},[t._v("\n                              Admin\n                          ")]),t._v(" "),a("h1",{staticClass:"header-title"},[t._v("\n                              Collections\n                          ")])]),t._v(" "),a("div",{staticClass:"col-auto"})])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"card-header"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("form",{staticClass:"mb-0"},[a("div",{staticClass:"input-group input-group-flush input-group-merge input-group-reverse"},[a("input",{staticClass:"form-control list-search",attrs:{type:"search",placeholder:"Search"}}),t._v(" "),a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fe fe-search"})])])])]),t._v(" "),a("div",{staticClass:"col-auto me-n3",attrs:{hidden:""}},[a("form",{staticClass:"mb-0"},[a("select",{staticClass:"form-select form-select-sm form-control-flush list-page",attrs:{"data-choices":'{"searchEnabled": false}'}},[a("option",{attrs:{value:"25",selected:""}},[t._v("25 per page")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50 per page")]),t._v(" "),a("option",{attrs:{value:"100"}},[t._v("100 per page")])])])]),t._v(" "),a("div",{staticClass:"col-auto",attrs:{hidden:""}},[a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-sm btn-white",attrs:{type:"button","data-bs-toggle":"dropdown","data-bs-auto-close":"outside","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fe fe-sliders me-1"}),t._v(" Filter "),a("span",{staticClass:"badge bg-primary ms-1 list-filter-number"})]),t._v(" "),a("form",{staticClass:"dropdown-menu dropdown-menu-end dropdown-menu-card"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-header-title"},[t._v("\n                                        Filters\n                                      ")]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-link text-reset",attrs:{type:"reset"}},[a("small",[t._v("Clear filters")])])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"list-group list-group-flush mt-n4 mb-4"},[a("div",{staticClass:"list-group-item"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("small",[t._v("Plan")])]),t._v(" "),a("div",{staticClass:"col-auto"},[a("select",{staticClass:"form-select form-select-sm",attrs:{"data-filter":"item-plan","data-choices":'{"searchEnabled": false}'}},[a("option",{attrs:{value:"*",selected:""}},[t._v("Any")]),t._v(" "),a("option",{attrs:{value:"FREE"}},[t._v("Free")]),t._v(" "),a("option",{attrs:{value:"STANDARD"}},[t._v("Standard")]),t._v(" "),a("option",{attrs:{value:"PREMIUM"}},[t._v("Premium")])])])])]),t._v(" "),a("div",{staticClass:"list-group-item"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("small",[t._v("Status")])]),t._v(" "),a("div",{staticClass:"col-auto"},[a("select",{staticClass:"form-select form-select-sm",attrs:{"data-filter":"item-posts","data-choices":'{"searchEnabled": false}'}},[a("option",{attrs:{value:"*",selected:""}},[t._v("Any")]),t._v(" "),a("option",{attrs:{value:"Active"}},[t._v("Active")]),t._v(" "),a("option",{attrs:{value:"Inactive"}},[t._v("Inactive")])])])])])]),t._v(" "),a("button",{staticClass:"btn w-100 btn-primary list-filter-submit",attrs:{type:"button"}},[t._v("\n                                          Apply filter\n                                      ")])])])])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("tr",[a("th",[a("div",{staticClass:"form-check mb-n2"},[a("input",{staticClass:"form-check-input list-checkbox-all",attrs:{id:"listCheckboxAll",type:"checkbox"}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"listCheckboxAll"}})])]),t._v(" "),a("th",[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-userid",href:"#"}},[t._v("User Id")])]),t._v(" "),a("th",[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-name",href:"#"}},[t._v("Name")])]),t._v(" "),a("th",[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-queues",href:"#"}},[t._v("Queues")])]),t._v(" "),a("th",[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-templates",href:"#"}},[t._v("Templates")])]),t._v(" "),a("th",[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-posts",href:"#"}},[t._v("Posts")])]),t._v(" "),a("th",[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-publishes",href:"#"}},[t._v("Publishes")])]),t._v(" "),a("th",{attrs:{colspan:"2"}},[a("a",{staticClass:"list-sort text-muted",attrs:{"data-sort":"item-updated",href:"#"}},[t._v("Updated At")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("td",[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input list-checkbox",attrs:{id:"listCheckboxOne",type:"checkbox"}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"listCheckboxOne"}})])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("td",{staticClass:"text-end"},[a("div",{staticClass:"dropdown"},[a("a",{staticClass:"dropdown-ellipses dropdown-toggle",attrs:{href:"#",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("i",{staticClass:"fe fe-more-vertical"})]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-end dropdown-fix"},[a("a",{staticClass:"disabled dropdown-item",attrs:{href:"#"}},[t._v(" Edit ")])])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"list-alert alert alert-dark alert-dismissible border fade",attrs:{role:"alert"}},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{id:"listAlertCheckbox",type:"checkbox",checked:"",disabled:""}}),t._v(" "),a("label",{staticClass:"form-check-label text-white",attrs:{for:"listAlertCheckbox"}},[a("span",{staticClass:"list-alert-count"},[t._v("0")]),t._v(" collections(s)\n                                  ")])])]),t._v(" "),a("div",{staticClass:"col-auto me-n3"},[a("button",{staticClass:"btn btn-sm btn-white-20",attrs:{disabled:""}},[t._v(" Activate ")]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-white-20",attrs:{disabled:""}},[t._v(" Deactivate ")])])]),t._v(" "),a("button",{staticClass:"list-alert-close btn-close",attrs:{type:"button","aria-label":"Close"}})])}],!1,null,null,null).exports}}]);